<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>jQuery Calculator</title>

  <!-- Added link to the jQuery Library -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

  <!-- Added a link to Bootstrap-->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">

</head>

<body>

  <!-- Jumbotron for Title -->
  <div class="jumbotron">
    <h1 class="text-center">jQuery Calculator</h1>
    <h3 class="text-center">Perform basic mathematic operations using the power of jQuery!</h3>
  </div>

  <div class="container">

    <div class="row">

      <!-- Calculator Card -->
      <div class="col-lg-4">
        <div class="card">
          <h3 class="card-header">Calculator</h3>

          <div class="card-body">
            <button id="button-1" class="btn btn-primary number" value="1"><h1>1</h1></button>
            <button id="button-2" class="btn btn-primary number" value="2"><h1>2</h1></button>
            <button id="button-3" class="btn btn-primary number" value="3"><h1>3</h1></button>
            <button id="button-plus" class="btn btn-danger operator" value="plus"><h1>+</h1></button>
            <br><br>
            <button id="button-4" class="btn btn-primary number" value="4"><h1>4</h1></button>
            <button id="button-5" class="btn btn-primary number" value="5"><h1>5</h1></button>
            <button id="button-6" class="btn btn-primary number" value="6"><h1>6</h1></button>
            <button id="button-minus" class="btn btn-danger operator" value="minus"><h1>&minus;</h1></button>
            <br><br>
            <button id="button-7" class="btn btn-primary number" value="7"><h1>7</h1></button>
            <button id="button-8" class="btn btn-primary number" value="8"><h1>8</h1></button>
            <button id="button-9" class="btn btn-primary number" value="9"><h1>9</h1></button>
            <button id="button-multiply" class="btn btn-danger operator" value="times"><h1>&times;</h1></button>
            <br><br>
            <button id="button-0" class="btn btn-primary number" value="0"><h1>0</h1></button>
            <button id="button-divide" class="btn btn-danger operator" value="divide"><h1>&divide;</h1></button>
            <button id="button-power" class="btn btn-danger operator" value="power"><h1>^</h1></button>
            <button id="button-equal" class="btn btn-success equal" value="equals"><h1>=</h1></button>
            <br><br>
            <button id="button-clear" class="btn btn-dark clear" value="clear"><h1>clear</h1></button>
          </div>
        </div>
      </div>

      <!-- Result Card -->
      <div class="col-lg-6">
        <div class="card">
          <h3 class="card-header">Result</h3>
          <div class="card-body">
            <h1 id="first-number"></h1>
            <h1 id="operator"></h1>
            <h1 id="second-number"></h1>
            <hr>
            <h1 id="result"></h1>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script type="text/javascript">

    $(document).ready(function () {

      var holder = [];

      $(".number").on("click", function () {
        holder.push(($(this).attr("value")));
        console.log(holder);
        $("#result").html(holder.join(""));
      });

      $("#button-minus").on("click", function () {
        let opp = "-"
        holder.push(opp)
        $("#result").html(holder.join(""));
      });

      $("#button-plus").on("click", function () {
        holder.push($(this).text());
        console.log(holder);
        $("#result").html(holder.join(""));
      });

      $("#button-multiply").on("click", function () {
        let opp = "*";
        holder.push(opp);
        $("#result").html(holder.join(""));
      });

      $("#button-divide").on("click", function () {
        let opp = "/";
        holder.push(opp);
        $("#result").html(holder.join(""));
      });

      $("#button-power").on("click", function () {
        let opp = "^"
        holder.push(opp);
        // let epo = Math.pow(holder, x);
        $("#result").html(holder.join(""));
      });

      // $(".operator").on("click", function () {
      //   var inOperator = $(this).text();
      //   console.log(inOperator);

      //   switch (inOperator) {
      //     case inOperator:
      //       var opp = "-"
      //       break;
      //     case inOperator:
      //       var opp = "*"
      //       break;
      //     case inOperator:
      //       var opp = "+"
      //       break;
      //     case inOperator:
      //       var opp = "/"
      //       break;
      //     default:
      //       console.log("something fucked up in switch statement");
      //   }

      //   holder.push(opp);
      //   // holder.push(($(this).text("value")));
      //   console.log(holder);
      //   $("#result").html(holder.join(""));

      // });

      // $("#button-power").on("click", function () {
      //   var firstNum = 

      //   var exp =  Math.pow();

      // });




$(".equal").on("click", function () {
  if (holder.includes("^")) {
    var carr = "^";
    var index = holder.indexOf(carr)
    console.log("index of carr " + index)

    // Stevo CODE below

    var splicePoint = index + 1;
    console.log("splicePoint: " + splicePoint);

    var secondNumSplice = index - 1;

    var secondNumber = holder.splice(splicePoint);
    console.log("secondNumber: " + secondNumber);

    // var totalLength = holder.length // 3
    // console.log("totalLength: " + totalLength);

    // var numToCut = totalLength - index;
    // console.log("numToCut: " + numToCut);


    console.log(holder);
    var firstNumber = holder.splice(secondNumSplice,1);
    console.log("firstNumber: " + firstNumber);

    $("#result").html(Math.pow(firstNumber, secondNumber));
    
    // Stevo CODE above

  }
  
;

});





      // $(".equal").on("click", function () {

      //   if (holder.includes("^")) {
      //     var carr = "^";
      //     var index = holder.indexOf(carr)
      //     console.log("index of carr " + index)

      //     var epo = holder.splice(index, 1);
      //     console.log("after splice, epo: " + epo)

      //     var setter = holder.splice(index, 0, ",")
      //     console.log("set with comma: " + setter);

      //     var powered = Math.pow(setter);
      //     console.log("## powered: " + powered);
      //   }
      //   var joined = holder.join("");
      //   console.log(joined);
      //   var answer = eval(joined);
      //   console.log(answer)
      //   $("#result").html(answer);
      //   console.log("equal clicked, holder: " + holder);
      //   holder = [];

      // });




      $("#button-clear").on("click", function () {
        holder = [];
        $("#result").html(holder.join(""));
        console.log(holder);
      });



    });

  </script>

</body>

</html>